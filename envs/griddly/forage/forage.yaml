Version: '0.1'
Environment:
  Name: Forage2
  Description: Metta - Foraging
  Observers:
    VectorAgent:
      Type: VECTOR
      Width: 9
      Height: 9
      TrackAvatar: true
      IncludeVariables: true
    GlobalBlockObserver:
      TileSize: 16
      Type: BLOCK_2D
      Shader:
        ObserverAvatarMode: GRAYSCALE
    GlobalSpriteObserver:
      TileSize: 16
      Type: SPRITE_2D
      Shader:
        ObserverAvatarMode: DARKEN
  Player:
    Count: 7
    AvatarObject: agent
  Termination:
    Win:
      - eq:
          - energy:count
          - 0
    # Lose:
    #   - eq: [_steps, 5]

  Levels:
    - >
      W   W   W   W   W   W   W   W   W   W   W   W   W   W   W   W   W   W
      W

      W   A1   .   .   .   .   .   .   .   A2  .   .   .   .   .   .   .   A3
      W

      W   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
      W

      W   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
      W

      W   .   .   e   .   .   .   .   .   .   .   .   .   .   .   .   .   .
      W

      W   .   .   .   .   .   .   .   .   .   .   e   .   .   .   .   .   .
      W

      W   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
      W

      W   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
      W

      W   A4   .   e   .   .   .   .   .   e   .   .   .   .   .   e   .   A5
      W

      W   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
      W

      W   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
      W

      W   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
      W

      W   .   .   .   .   .   e   .   .   .   .   .   .   .   .   .   .   .
      W

      W   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
      W

      W   .   .   .   .   .   .   .   .   e   .   .   e   .   .   .   .   .
      W

      W   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .
      W

      W   A6   .   .   .   .   .   .   .   .   A7   .   .   .   .   .   .   .
      W

      W   W   W   W   W   W   W   W   W   W   W   W   W   W   W   W   W   W
      W
Actions:
  - Name: move
    Behaviours:
      - Src:
          Object: agent
          Commands:
            - mov: _dest
        Dst:
          Object: [_empty]
      - Src:
          Object: agent
          Commands:
            - mov: _dest
            - reward: 1
        Dst:
          Object: energy
          Commands:
            - remove: true
  - Name: init_agent
    InputMapping:
      Internal: true
      Inputs:
        '1':
          VectorToDest:
            - 0
            - 0
Objects:
  - Name: wall
    MapCharacter: W
    Observers:
      GlobalSpriteObserver:
        - TilingMode: WALL_16
          Image:
            - oryx/oryx_fantasy/wall2-0.png
            - oryx/oryx_fantasy/wall2-1.png
            - oryx/oryx_fantasy/wall2-2.png
            - oryx/oryx_fantasy/wall2-3.png
            - oryx/oryx_fantasy/wall2-4.png
            - oryx/oryx_fantasy/wall2-5.png
            - oryx/oryx_fantasy/wall2-6.png
            - oryx/oryx_fantasy/wall2-7.png
            - oryx/oryx_fantasy/wall2-8.png
            - oryx/oryx_fantasy/wall2-9.png
            - oryx/oryx_fantasy/wall2-10.png
            - oryx/oryx_fantasy/wall2-11.png
            - oryx/oryx_fantasy/wall2-12.png
            - oryx/oryx_fantasy/wall2-13.png
            - oryx/oryx_fantasy/wall2-14.png
            - oryx/oryx_fantasy/wall2-15.png
      GlobalBlockObserver:
        - Shape: square
          Color:
            - 0.7
            - 0.7
            - 0.7
          Scale: 1
  - Name: energy
    MapCharacter: e
    Observers:
      GlobalSpriteObserver:
        - Image: oryx/oryx_fantasy/ore-6.png
      GlobalBlockObserver:
        - Shape: triangle
          Color:
            - 0
            - 1
            - 0
          Scale: 0.5
  - Name: agent
    MapCharacter: A
    Observers:
      GlobalSpriteObserver:
        - Image: oryx/oryx_tiny_galaxy/tg_sliced/tg_monsters/tg_monsters_rat_l1.png
      GlobalBlockObserver:
        - Shape: triangle
          Color:
            - 0
            - 0
            - 1
          Scale: 0.8
