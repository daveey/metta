{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Train Griddly",
            "type": "debugpy",
            "request": "launch",
            "module": "framework.sample_factory.train",
            "args": [
                "--experiment=mac.pres10",
                "--agent=object_attn_agent",
                "--restart_behavior=restart",

                "--device=cpu",
                "--env=GDY-PowerGrid",
                "--save_every_sec=60",
                "--experiment_summaries_interval=10",
                "--lr_schedule=kl_adaptive_epoch",
                "--decorrelate_experience_max_seconds=0",
                "--serial=True",
                // "--async_rl=False",
                // "--batch_size=1792",

                // "--with_wandb=True",
                "--num_workers=8",
                "--env_num_agents=5",
                "--env_num_altars=1",
                "--env_num_chargers=3",
                "--env_num_generators=15",
                "--env_wall_density=0",
                "--env_reward_rank_steps=1000",
                "--env_width=25",
                "--env_height=25",
                "--env_rsm_num_families=0",
                "--env_rsm_family_reward=0.5",
                "--env_max_steps=100",
                "--load_checkpoint_kind=latest",

                "--normalize_input=False",
                "--aux_loss_coef=0",
                "--agent_fc_layers=2",
                "--agent_fc_size=512",
                // "--train_for_env_steps=1000"

            ],
        },
        {
            "name": "Evaluate",
            "type": "debugpy",
            "request": "launch",
            "module": "framework.sample_factory.evaluate",
            "args": [
                "--experiment=baseline.v0.0.1",
                "--agent=object_embedding_agent",
                // "--experiment=pred.10.0",
                // "--experiment=g.mac",
                // "--experiment=pred.200.0",

                "--device=cpu",
                "--serial=True",
                "--train_dir=./train_dir/",
                // "--no_render",
                // "--save_video",
                // "--video_name=griddly",
                "--fps=6",
                "--max_num_frames=1000",
                "--eval_env_frameskip=1",
                "--env=GDY-PowerGrid",
                "--env_num_agents=5",
                "--env_width=25",
                "--env_height=25",
                "--env_num_altars=2",
                "--env_num_chargers=2",
                "--env_num_generators=10",
                "--env_wall_density=0.11",
                "--env_milestone_density=0.01",
                "--env_reward_rank_steps=10",
                "--load_checkpoint_kind=latest",
            ],
        },
        {
            "name": "Play",
            "type": "debugpy",
            "request": "launch",
            "module": "envs.griddly.play",
            "args": [
                "--fps=10",
                "--max_num_frames=1000",
                "--eval_env_frameskip=1",
                "--env=GDY-PowerGrid",
                "--env_num_agents=20",
                "--env_width=70",
                "--env_height=70",
                "--env_agent:energy:initial=50",
                "--env_chargers=5",
                "--env_wall_density=0.05",
            ],
        },
                {
            "name": "Render Replay",
            "type": "debugpy",
            "request": "launch",
            "module": "util.render_replay_to_video",
            "args": [
                "--replay_path=/tmp/sample_factory_replays/0_0.replay.yaml",
                "--video_path=/tmp/sample_factory_replays/0_0.mp4",
                "--fps=30",
            ],
        },
                {
            "name": "Run Tests",
            "type": "debugpy",
            "request": "launch",
            "module": "tests.test_griddly_training",
            "args": [
                "-k",
                "test_8x8",
            ],
        },
        {
            "name": "Run Evals",
            "type": "debugpy",
            "request": "launch",
            "module": "evals.evals",
            "args": [
                "--experiment=mac.pres10",
                "--device=cpu",
                "--train_dir=./train_dir/",
                "--eval_env_frameskip=1",
                "--max_num_episodes=1",
                "--env_max_steps=100",
            ],
        },
    ]
}
